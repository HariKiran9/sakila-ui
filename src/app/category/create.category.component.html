<form class="from-horizantal" [formGroup]="categoryForm">
    <div class="panel panel-primary">

        <div class="panel-heading">
            <h3> {{pageTitle}}</h3>
        </div>

        <div class="panel-body">

            <!-- <mat-form-field>
                <mat-label>Category</mat-label>
                <mat-select [(ngModel)]="selectedCategory" name="cate">
                    <mat-option *ngFor="let category of categories" [value]="category.name">
                        {{category.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field> -->

            <div class="form-group" [ngClass]="{'has-error' : formErrors.name}">
                <label class="col-sm-2 control-label" for="name"> Name </label>
                <div class="col-sm-10">
                    <input type="text" name="name" id="name" class="form-control" formControlName="name"
                        (blur)="logValidationErrors()" />
                    <span> {{nameLengh}} </span>
                    <span class="help-block" *ngIf="formErrors.name"> {{formErrors.name}} </span>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label"> Contact Preference </label>
                <div>
                    <label class="radio-inline">
                        <input type="radio" value="email" formControlName="contactPreference">
                        Email
                    </label>
                    <label class="radio-inline">
                        <input type="radio" value="phone" formControlName="contactPreference">
                        Phone
                    </label>
                </div>
            </div>


            <div class="form-group" [ngClass]="{'has-error' : formErrors.email}">
                <label class="col-sm-2 control-label" for="email"> Email </label>
                <div class="col-sm-10">
                    <input type="text" name="email" id="email" class="form-control" formControlName="email"
                        (blur)="logValidationErrors()">
                    <span class="help-block" *ngIf="formErrors.email"> {{formErrors.email}} </span>
                </div>
            </div>

            <div class="form-group" [ngClass]="{'has-error' : formErrors.phone}">
                <label class="col-sm-2 control-label" for="phone"> Phone </label>
                <div class="col-sm-10">
                    <input type="text" name="phone" id="phone" class="form-control" formControlName="phone"
                        (blur)="logValidationErrors()">
                    <span class="help-block" *ngIf="formErrors.phone"> {{formErrors.phone}} </span>
                </div>
            </div>

            <div formGroupName="skills">

                <div class="form-group" [ngClass]="{'has-error' : formErrors.skillName}">
                    <label class="col-sm-2 control-label" for="skillName"> Skill Name </label>
                    <div class="col-sm-10">
                        <input type="text" id="skillName" name="skillName" formControlName="skillName"
                            placeholder="Skill Name" (blur)="logValidationErrors()">
                        <span class="help-block" *ngIf="formErrors.skillName"> {{formErrors.skillName}} </span>
                    </div>
                </div>

                <div class="form-group" [ngClass]="{'has-error' : formErrors.experienceInYears}">
                    <label class="col-sm-2 control-label" for="experienceInYears"> Experience In Years </label>
                    <div class="col-sm-10">
                        <input type="text" id="experienceInYears" name="experienceInYears"
                            formControlName="experienceInYears" placeholder="Experience In Years"
                            (blur)="logValidationErrors()">
                        <span class="help-block" *ngIf="formErrors.experienceInYears"> {{formErrors.experienceInYears}}
                        </span>
                    </div>
                </div>

                <div class="form-group" [ngClass]="{'has-error' : formErrors.proficiency}">
                    <label class="col-sm-2 control-label"> Proficiency </label>
                    <div class="col-sm-10">
                        <label class="radio-inline">
                            <input type="radio" id="proficiency" value="beginner" formControlName="proficiency"
                                (blur)="logValidationErrors()">
                            Beginner
                        </label>
                        <label class="radio-inline">
                            <input type="radio" id="proficiency" value="intermediate" formControlName="proficiency"
                                (blur)="logValidationErrors()">
                            Intermediate
                        </label>
                        <label class="radio-inline">
                            <input type="radio" id="proficiency" value="advanced" formControlName="proficiency"
                                (blur)="logValidationErrors()">
                            Advanced
                        </label>
                    </div>
                    <span class="help-block" *ngIf="formErrors.proficiency"> {{formErrors.proficiency}} </span>
                </div>
            </div>

            <div class="form-group" [ngClass]="{'has-error' : formErrors.selectedCategory}">
                <label class="col-sm-2 control-label" for="selectedCategory"> Category</label>
                <div>
                    <select id="selectedCategory" name="selectedCategory" formControlName="selectedCategory"
                        (change)="selectedCat()">
                        <option value="" selected>--</option>
                        <option *ngFor="let category of categories" [value]="category.categoryId">
                            {{category.name}}
                        </option>
                    </select>
                    <span class="help-block" *ngIf="formErrors.selectedCategory">
                        {{formErrors.selectedCategory}}</span>
                </div>
            </div>

        </div>
        <!--panel-body-->

        <div class="panel-footer">
            <div class="btn-toolbar">
                <button class="btn btn-primary" (click)="submit()"> Save </button>
                <button class="btn btn-primary" (click)="update()"> Update </button>
                <button class="btn btn-primary" (click)="onLoadData()"> Load Data </button>
                <button class="btn btn-primary" (click)="patchValue()"> Patch Value </button>
            </div>
        </div>

    </div>
</form>

<table border="1">
    <tr>
        <th style="padding: 10px;"> FromGroup</th>
        <th style="padding: 10px;"> FromControl (name)</th>
    </tr>
    <tr>
        <td style="padding: 10px;">
            touched : {{categoryForm.touched}} <br />
            dirty : {{categoryForm.dirty}} <br />
            valid : {{categoryForm.valid}} <br />
            Form Value : {{categoryForm.value | json}}
        </td>

        <td style="padding: 10px;">
            touched : {{categoryForm.get('name').touched}} <br />
            dirty : {{categoryForm.get('name').dirty}} <br />
            valid : {{categoryForm.get('name').valid}} <br />
            Form Name Value : {{categoryForm.get('name').value | json}}
        </td>
    </tr>
</table>